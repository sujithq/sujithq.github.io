<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>WSL | Sujith Quintelier</title><link>/tag/wsl/</link><atom:link href="/tag/wsl/index.xml" rel="self" type="application/rss+xml"/><description>WSL</description><generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Fri, 29 Apr 2022 10:00:00 +0000</lastBuildDate><image><url>/media/icon_hu5e15e861ad43a166b29f0ae919c910d4_1990_512x512_fill_lanczos_center_3.png</url><title>WSL</title><link>/tag/wsl/</link></image><item><title>Illegal option when executing a script</title><link>/post/wsl-illegal-option/</link><pubDate>Fri, 29 Apr 2022 10:00:00 +0000</pubDate><guid>/post/wsl-illegal-option/</guid><description>&lt;p>Sometimes when you run a script, you get this this error like &lt;code>set: Illegal option -&lt;/code>:&lt;/p>
&lt;p>Run&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sh filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Error&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">: not found: 2:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">: not found: 4:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">filename: 6: set: Illegal option -
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This means there is something wrong with the line endings in your script. This can easily be resolved by running this:&lt;/p>
&lt;p>Run&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s/\r$//&amp;#39;&lt;/span> filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>After that rerun your script.&lt;/p></description></item><item><title>Update, Upgrade and Clean WSL</title><link>/post/wsl-update/</link><pubDate>Fri, 29 Apr 2022 09:00:00 +0000</pubDate><guid>/post/wsl-update/</guid><description>&lt;p>When you are using WSL, once in a while you get this message at start up stating your environment is out of date:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.10.102.1-microsoft-standard-WSL2 x86_64)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Documentation: https://help.ubuntu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Management: https://landscape.canonical.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Support: https://ubuntu.com/advantage
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> System information as of Thu Apr 28 08:26:12 CEST 2022
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> System load: 0.0 Processes: 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Usage of /: 11.0% of 250.98GB Users logged in: 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Memory usage: 1% IPv4 address for eth0: 172.31.68.164
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Swap usage: 0%
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">0 updates can be applied immediately.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">The list of available updates is more than a week old.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">To check for new updates run: sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This message is shown once a day. To disable it please create the
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/&amp;lt;username&amp;gt;/.hushlogin file.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You could run this set of commands or this one line to update your WSL&lt;/p>
&lt;p>Set&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt-get update -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get upgrade -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get autoremove -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get clean -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>One line&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt-get update -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt-get upgrade -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt-get autoremove -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt-get clean -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can actually create a script &lt;strong>wsl-update.sh&lt;/strong> in the user&amp;rsquo;s root folder and just execute it using &lt;code>sh ~/wsl-update.sh&lt;/code>&lt;/p>
&lt;p>Use this script to create wsl-update.sh and make it executable.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cat &lt;span class="s">&amp;lt;&amp;lt;EOT &amp;gt;&amp;gt; ~/wsl-update.sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">sudo apt-get update -y &amp;amp;&amp;amp; sudo apt-get upgrade -y &amp;amp;&amp;amp; sudo apt-get autoremove -y &amp;amp;&amp;amp; sudo apt-get clean -y
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">EOT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +X ~/wsl-update.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>