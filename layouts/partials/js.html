<!-- Store available themes in JavaScript -->
<script>
    window.HUGO_ENV = "{{ .Site.Params.environment }}";
    var availableThemes = JSON.parse({{ .Site.Params.themes | jsonify }});
</script>
<!-- Bootstrap JS (Optional, for components like modals, tooltips, etc.) -->
{{- with resources.Get "vendor/bootstrap/js/bootstrap.bundle.min.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}



{{- with resources.Get "vendor/aos/js/aos.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" false }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

<!-- Initialize AOS after loading -->
<script>
  // window.AOS = require_stdin();
  function aosInit() {
    AOS.init({
      duration: 600,
      easing: 'ease-in-out',
      once: true,
      mirror: false
    });
  }
  window.addEventListener('DOMContentLoaded', aosInit);
</script>

{{- with resources.Get "vendor/swiper/js/swiper-bundle.min.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

{{- with resources.Get "vendor/prismjs/js/prism-core.min.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" false }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

{{- with resources.Get "vendor/prismjs/js/prism-autoloader.min.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" false }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

{{- with resources.Get "ts/main.ts" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . | js.Build }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" true }}
    {{- with . | js.Build $opts | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

<!-- Load Font Awesome kit for all environments -->
<script src="https://kit.fontawesome.com/5fc2d9cacb.js" crossorigin="anonymous"></script>

{{- with resources.Get "js/main.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" true }}
    {{- with . | js.Build $opts | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

{{ if .Site.Params.isLocal }}
{{- else }}
  <script src="https://analytics.ahrefs.com/analytics.js" data-key="zFn6YUC1ofEcLJXv92lDUA" async></script>
{{- end }}

<script src="https://d3js.org/d3.v7.min.js"></script>

{{- with resources.Get "tech-radar/js/radar.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" false }}
    {{- with . | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}

{{- with resources.Get "js/mermaid-init.js" }}
  {{- if eq hugo.Environment "development" }}
    {{- with . | js.Build }}
      <script src="{{ .RelPermalink }}"></script>
    {{- end }}
  {{- else }}
    {{- $opts := dict "minify" true }}
    {{- with . | js.Build $opts | fingerprint }}
      <script src="{{ .RelPermalink }}" integrity="{{- .Data.Integrity }}" crossorigin="anonymous"></script>
    {{- end }}
  {{- end }}
{{- end }}
