{{ define "main" }}

{{ $defaultPageSize := 4 }} <!-- Default number of posts per page -->
{{ $pageSize := $defaultPageSize }}

<div class="container">
  <div class="row">
    <div class="col-lg">
      <h1>Welcome to My Blog: Navigating Azure, GitHub, and DevOps Challenges ðŸš€</h1>
      <p class="lead">Join me on a journey through the world of Azure, GitHub, and DevOps as I share insights, solutions, and experiences to help you overcome challenges and achieve success. Opinions are my own.</p>
    </div>
  </div>
  <div class="row mt-1">
    <div class="col-lg-9">
      {{ $posts := where site.RegularPages "Section" "posts" }}
      {{ $sortedPosts := $posts.ByLastmod.Reverse }}
      {{ $pages := first 4 $sortedPosts }}

      {{/* Display all 4 posts with simple layout */}}
      {{ range $index, $page := $pages }}
        {{ partial "blog/one.html" (dict "page" $page "showTaxonomy" false) }}
      {{ end }}
    </div>
    <div class="col-lg-3 sidebar ps-lg-3">
      {{ partial "sidebar.html" (dict "page" .) }}
    </div>
  </div>
  {{/* Pagination removed for now - showing first 4 posts only */}}
</div>
{{ end }}
