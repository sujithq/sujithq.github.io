(()=>{document.addEventListener("DOMContentLoaded",()=>{let a=document.querySelectorAll("pre code.language-mermaid, pre code.mermaid");if(!a.length)return;function i(e){if(window.mermaid)return e();let r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js",r.onload=e,r.onerror=()=>console.error("Failed to load Mermaid library"),document.head.appendChild(r)}i(()=>{try{let e=document.documentElement.getAttribute("data-bs-theme")==="dark"?"dark":"default";window.mermaid.initialize({startOnLoad:!1,securityLevel:"strict",theme:e}),a.forEach(n=>{let t=n.closest("pre"),d=document.createElement("div");d.className="mermaid",d.textContent=n.textContent,t?t.replaceWith(d):n.replaceWith(d)}),window.mermaid.run(),new MutationObserver(n=>{if(n.some(t=>t.attributeName==="data-bs-theme")){let t=document.documentElement.getAttribute("data-bs-theme")==="dark"?"dark":"default";window.mermaid.initialize({startOnLoad:!1,securityLevel:"strict",theme:t}),window.mermaid.run()}}).observe(document.documentElement,{attributes:!0})}catch(e){console.error("Mermaid render failed",e)}})});})();
