<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>WSL | Sujith Quintelier</title><link>/tags/wsl/</link><atom:link href="/tags/wsl/index.xml" rel="self" type="application/rss+xml"/><description>WSL</description><generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Â©2022</copyright><lastBuildDate>Fri, 29 Apr 2022 10:00:00 +0000</lastBuildDate><image><url>/img/Quintelier_Sujith</url><title>WSL</title><link>/tags/wsl/</link></image><item><title>Illegal option when executing a script</title><link>/post/wsl-illegal-option/</link><pubDate>Fri, 29 Apr 2022 10:00:00 +0000</pubDate><guid>/post/wsl-illegal-option/</guid><description>&lt;p>Sometimes when you run a script, you get this this error like &lt;code>set: Illegal option&lt;/code>:&lt;/p>
&lt;p>Run&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">sh filename
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Error&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">: not found: 2:
: not found: 4:
filename: 6: set: Illegal option -
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This means there is something wrong with the line endings in your script. This can easily be resolved by running this:&lt;/p>
&lt;p>Run&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">sed -i &lt;span style="color:#e6db74">&amp;#39;s/\r$//&amp;#39;&lt;/span> filename
&lt;/code>&lt;/pre>&lt;/div>&lt;p>After that rerun your script.&lt;/p></description></item><item><title>Update, Upgrade and Clean WSL</title><link>/post/wsl-update/</link><pubDate>Fri, 29 Apr 2022 09:00:00 +0000</pubDate><guid>/post/wsl-update/</guid><description>&lt;p>When you are using WSL, once in a while you get this message at start up stating your environment is out of date:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.10.102.1-microsoft-standard-WSL2 x86_64)
* Documentation: https://help.ubuntu.com
* Management: https://landscape.canonical.com
* Support: https://ubuntu.com/advantage
System information as of Thu Apr 28 08:26:12 CEST 2022
System load: 0.0 Processes: 8
Usage of /: 11.0% of 250.98GB Users logged in: 0
Memory usage: 1% IPv4 address for eth0: 172.31.68.164
Swap usage: 0%
0 updates can be applied immediately.
The list of available updates is more than a week old.
To check for new updates run: sudo apt update
This message is shown once a day. To disable it please create the
/home/&amp;lt;username&amp;gt;/.hushlogin file.
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You could run this set of commands or this one line to update your WSL&lt;/p>
&lt;p>Set&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">sudo apt-get update -y
sudo apt-get upgrade -y
sudo apt-get autoremove -y
sudo apt-get clean -y
&lt;/code>&lt;/pre>&lt;/div>&lt;p>One line&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">sudo apt-get update -y &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> sudo apt-get upgrade -y &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> sudo apt-get autoremove -y &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> sudo apt-get clean -y
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can actually create a script &lt;strong>wsl-update.sh&lt;/strong> in the user&amp;rsquo;s root folder and just execute it using &lt;code>sh ~/wsl-update.sh&lt;/code>&lt;/p>
&lt;p>Use this script to create wsl-update.sh and make it executable.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">cat &lt;span style="color:#e6db74">&amp;lt;&amp;lt;EOT &amp;gt;&amp;gt; ~/wsl-update.sh
&lt;/span>&lt;span style="color:#e6db74">#!/bin/sh
&lt;/span>&lt;span style="color:#e6db74">sudo apt-get update -y &amp;amp;&amp;amp; sudo apt-get upgrade -y &amp;amp;&amp;amp; sudo apt-get autoremove -y &amp;amp;&amp;amp; sudo apt-get clean -y
&lt;/span>&lt;span style="color:#e6db74">EOT&lt;/span>
chmod +X ~/wsl-update.sh
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>